var Ifl=Ifl||{};Ifl.login={initialize:function(i){_.bindAll(this),this.successCallback=i,this.setProductionUrl(),this.setDevelopmentUrl(),this.cacheElements(),this.$gameContainer.hide(),this.registerEvents()},setProductionUrl:function(){this.productionApiUrl="https://iflauthexample-webapp.herokuapp.com"},setDevelopmentUrl:function(){this.developmentApiUrl="http://localhost:3000"},cacheElements:function(){this.$loginContainer=$("#loginContainer"),this.$email=$("#email-field"),this.$password=$("#password-field"),this.$submit=$("#submit"),this.$gameContainer=$("#gameContainer")},registerEvents:function(){this.$submit.on("click",this.loginUser)},setCurrentUser:function(i){Ifl.currentUser=i},loginUser:function(){var i=$.ajax({type:"POST",url:this.productionApiUrl+"/users/sign_in.json",crossDomain:!0,data:{user:{email:this.$email.val(),password:this.$password.val()}},dataType:"json"});i.done(this.loginSuccess),i.fail(this.loginFailure)},loginSuccess:function(i){this.setCurrentUser(i),this.$loginContainer.hide(),this.$gameContainer.show(),this.successCallback()},loginFailure:function(){alert("There was a problem, please try again.")}};